.. _zend.ldap.api.reference.zend-ldap-node-rootdse:

Zend\\Ldap\\Node\\RootDse
=========================

The following methods are available on all vendor-specific subclasses.

``Zend\Ldap\Node\RootDse`` includes the magic property accessors ``__get()`` and ``__isset()`` to access the
attributes by their name. They proxy to ``Zend\Ldap\Node\RootDse::getAttribute()`` and
``Zend\Ldap\Node\RootDse::existsAttribute()`` respectively. ``__set()`` and ``__unset()`` are also implemented but
they throw a *BadMethodCallException* as modifications are not allowed on RootDSE nodes. Furthermore the class
implements *ArrayAccess* for array-style-access to the attributes. ``offsetSet()`` and ``offsetUnset()`` also throw
a *BadMethodCallException* due ro obvious reasons.

.. _zend.ldap.api.reference.zend-ldap-node-rootdse.table:

.. table:: Zend\\Ldap\\Node\\RootDse API

   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Method                                                               |Description                                                                                                                                                                                                                                                                                                                                     |
   +=====================================================================+================================================================================================================================================================================================================================================================================================================================================+
   |Zend\\Ldap\\Dn getDn()                                               |Gets the DN of the current node as a Zend\\Ldap\\Dn.                                                                                                                                                                                                                                                                                            |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string getDnString(string $caseFold)                                 |Gets the DN of the current node as a string.                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getDnArray(string $caseFold)                                   |Gets the DN of the current node as an array.                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string getRdnString(string $caseFold)                                |Gets the RDN of the current node as a string.                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getRdnArray(string $caseFold)                                  |Gets the RDN of the current node as an array.                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getObjectClass()                                               |Returns the objectClass of the node.                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string toString()                                                    |Returns the DN of the current node - proxies to Zend\\Ldap\\Dn::getDnString().                                                                                                                                                                                                                                                                  |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string \__toString()                                                 |Casts to string representation - proxies to Zend\\Ldap\\Dn::toString().                                                                                                                                                                                                                                                                         |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array toArray(boolean $includeSystemAttributes)                      |Returns an array representation of the current node. If $includeSystemAttributes is FALSE (defaults to TRUE) the system specific attributes are stripped from the array. Unlike Zend\\Ldap\\Node\\RootDse::getAttributes() the resulting array contains the DN with key 'dn'.                                                                   |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string toJson(boolean $includeSystemAttributes)                      |Returns a JSON representation of the current node using Zend\\Ldap\\Node\\RootDse::toArray().                                                                                                                                                                                                                                                   |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getData(boolean $includeSystemAttributes)                      |Returns the node's attributes. The array contains all attributes in its internal format (no conversion).                                                                                                                                                                                                                                        |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |boolean existsAttribute(string $name, boolean $emptyExists)          |Checks whether a given attribute exists. If $emptyExists is FALSE, empty attributes (containing only array()) are treated as non-existent returning FALSE. If $emptyExists is TRUE, empty attributes are treated as existent returning TRUE. In this case the method returns FALSE only if the attribute name is missing in the key-collection. |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |boolean attributeHasValue(string $name, mixed|array $value)          |Checks if the given value(s) exist in the attribute. The method returns TRUE only if all values in $value are present in the attribute. Comparison is done strictly (respecting the data type).                                                                                                                                                 |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |integer count()                                                      |Returns the number of attributes in the node. Implements Countable.                                                                                                                                                                                                                                                                             |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |mixed getAttribute(string $name, integer|null $index)                |Gets a LDAP attribute. Data conversion is applied using Zend\\Ldap\\Attribute::getAttribute().                                                                                                                                                                                                                                                  |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getAttributes(boolean $includeSystemAttributes)                |Gets all attributes of node. If $includeSystemAttributes is FALSE (defaults to TRUE) the system specific attributes are stripped from the array.                                                                                                                                                                                                |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array|integer getDateTimeAttribute(string $name, integer|null $index)|Gets a LDAP date/time attribute. Data conversion is applied using Zend\\Ldap\\Attribute::getDateTimeAttribute().                                                                                                                                                                                                                                |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Zend\\Ldap\\Node\\RootDse reload(Zend\\Ldap\\Ldap $ldap)             |Reloads the current node's attributes from the given LDAP server.                                                                                                                                                                                                                                                                               |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Zend\\Ldap\\Node\\RootDse create(Zend\\Ldap\\Ldap $ldap)             |Factory method to create the RootDSE.                                                                                                                                                                                                                                                                                                           |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getNamingContexts()                                            |Gets the namingContexts.                                                                                                                                                                                                                                                                                                                        |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string|null getSubschemaSubentry()                                   |Gets the subschemaSubentry.                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |boolean supportsVersion(string|int|array $versions)                  |Determines if the LDAP version is supported.                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |boolean supportsSaslMechanism(string|array $mechlist)                |Determines if the sasl mechanism is supported.                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |integer getServerType()                                              |Gets the server type. Returns Zend\\Ldap\\Node\\RootDse::SERVER_TYPE_GENERICfor unknown LDAP serversZend\\Ldap\\Node\\RootDse::SERVER_TYPE_OPENLDAPfor OpenLDAP serversZend\\Ldap\\Node\\RootDse::SERVER_TYPE_ACTIVEDIRECTORYfor Microsoft ActiveDirectory serversZend\\Ldap\\Node\\RootDse::SERVER_TYPE_EDIRECTORYFor Novell eDirectory servers|
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Zend\\Ldap\\Dn getSchemaDn()                                         |Returns the schema DN.                                                                                                                                                                                                                                                                                                                          |
   +---------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-rootdse.openldap:

OpenLDAP
--------

Additionally the common methods above apply to instances of ``Zend\Ldap\Node\RootDse\OpenLdap``.

.. note::

   Refer to `LDAP Operational Attributes and Objects`_ for information on the attributes of OpenLDAP RootDSE.

.. _zend.ldap.api.reference.zend-ldap-node-rootdse.openldap.table:

.. table:: Zend\\Ldap\\Node\\RootDse\\OpenLdap API

   +---------------------------------------------+-----------------------------------------------------------------------------+
   |Method                                       |Description                                                                  |
   +=============================================+=============================================================================+
   |integer getServerType()                      |Gets the server type. Returns Zend\\Ldap\\Node\\RootDse::SERVER_TYPE_OPENLDAP|
   +---------------------------------------------+-----------------------------------------------------------------------------+
   |string|null getConfigContext()               |Gets the configContext.                                                      |
   +---------------------------------------------+-----------------------------------------------------------------------------+
   |string|null getMonitorContext()              |Gets the monitorContext.                                                     |
   +---------------------------------------------+-----------------------------------------------------------------------------+
   |boolean supportsControl(string|array $oids)  |Determines if the control is supported.                                      |
   +---------------------------------------------+-----------------------------------------------------------------------------+
   |boolean supportsExtension(string|array $oids)|Determines if the extension is supported.                                    |
   +---------------------------------------------+-----------------------------------------------------------------------------+
   |boolean supportsFeature(string|array $oids)  |Determines if the feature is supported.                                      |
   +---------------------------------------------+-----------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-rootdse.activedirectory:

ActiveDirectory
---------------

Additionally the common methods above apply to instances of ``Zend\Ldap\Node\RootDse\ActiveDirectory``.

.. note::

   Refer to `RootDSE`_ for information on the attributes of Microsoft ActiveDirectory RootDSE.

.. _zend.ldap.api.reference.zend-ldap-node-rootdse.activedirectory.table:

.. table:: Zend\\Ldap\\Node\\RootDse\\ActiveDirectory API

   +----------------------------------------------+------------------------------------------------------------------------------------+
   |Method                                        |Description                                                                         |
   +==============================================+====================================================================================+
   |integer getServerType()                       |Gets the server type. Returns Zend\\Ldap\\Node\\RootDse::SERVER_TYPE_ACTIVEDIRECTORY|
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getConfigurationNamingContext()   |Gets the configurationNamingContext.                                                |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getCurrentTime()                  |Gets the currentTime.                                                               |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getDefaultNamingContext()         |Gets the defaultNamingContext.                                                      |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getDnsHostName()                  |Gets the dnsHostName.                                                               |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getDomainControllerFunctionality()|Gets the domainControllerFunctionality.                                             |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getDomainFunctionality()          |Gets the domainFunctionality.                                                       |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getDsServiceName()                |Gets the dsServiceName.                                                             |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getForestFunctionality()          |Gets the forestFunctionality.                                                       |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getHighestCommittedUSN()          |Gets the highestCommittedUSN.                                                       |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getIsGlobalCatalogReady()         |Gets the isGlobalCatalogReady.                                                      |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getIsSynchronized()               |Gets the isSynchronized.                                                            |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getLdapServiceName()              |Gets the ldapServiceName.                                                           |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getRootDomainNamingContext()      |Gets the rootDomainNamingContext.                                                   |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getSchemaNamingContext()          |Gets the schemaNamingContext.                                                       |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |string|null getServerName()                   |Gets the serverName.                                                                |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |boolean supportsCapability(string|array $oids)|Determines if the capability is supported.                                          |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |boolean supportsControl(string|array $oids)   |Determines if the control is supported.                                             |
   +----------------------------------------------+------------------------------------------------------------------------------------+
   |boolean supportsPolicy(string|array $policies)|Determines if the version is supported.                                             |
   +----------------------------------------------+------------------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-rootdse.edirectory:

eDirectory
----------

Additionally the common methods above apply to instances of *Zend\Ldap\Node\RootDse\eDirectory*.

.. note::

   Refer to `Getting Information about the LDAP Server`_ for information on the attributes of Novell eDirectory
   RootDSE.

.. _zend.ldap.api.reference.zend-ldap-node-rootdse.edirectory.table:

.. table:: Zend\\Ldap\\Node\\RootDse\\eDirectory API

   +------------------------------------------------+-------------------------------------------------------------------------------+
   |Method                                          |Description                                                                    |
   +================================================+===============================================================================+
   |integer getServerType()                         |Gets the server type. Returns Zend\\Ldap\\Node\\RootDse::SERVER_TYPE_EDIRECTORY|
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |boolean supportsExtension(string|array $oids)   |Determines if the extension is supported.                                      |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getVendorName()                     |Gets the vendorName.                                                           |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getVendorVersion()                  |Gets the vendorVersion.                                                        |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getDsaName()                        |Gets the dsaName.                                                              |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getStatisticsErrors()               |Gets the server statistics "errors".                                           |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getStatisticsSecurityErrors()       |Gets the server statistics "securityErrors".                                   |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getStatisticsChainings()            |Gets the server statistics "chainings".                                        |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getStatisticsReferralsReturned()    |Gets the server statistics "referralsReturned".                                |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getStatisticsExtendedOps()          |Gets the server statistics "extendedOps".                                      |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getStatisticsAbandonOps()           |Gets the server statistics "abandonOps".                                       |
   +------------------------------------------------+-------------------------------------------------------------------------------+
   |string|null getStatisticsWholeSubtreeSearchOps()|Gets the server statistics "wholeSubtreeSearchOps".                            |
   +------------------------------------------------+-------------------------------------------------------------------------------+



.. _`LDAP Operational Attributes and Objects`: http://www.zytrax.com/books/ldap/ch3/#operational
.. _`RootDSE`: http://msdn.microsoft.com/en-us/library/ms684291(VS.85).aspx
.. _`Getting Information about the LDAP Server`: http://www.novell.com/documentation/edir88/edir88/index.html?page=/documentation/edir88/edir88/data/ah59jqq.html
