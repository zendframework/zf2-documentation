.. EN-Revision: none
.. _zend.ldap.api.reference.zend-ldap-node-schema:

Zend\Ldap_Node\Schema
=====================

Die folgenden Methoden sind für alle Hersteller-spezifischen Unterklassen vorhanden.

*Zend\Ldap_Node\Schema* enthält die magischen Methoden *__get()* und *__isset()* um auf die Attribute durch Ihren
Namen zugreifen zu können. Die verweisen auf *Zend\Ldap_Node\Schema::getAttribute()* und
*Zend\Ldap_Node\Schema::existsAttribute()*. *__set()* und *__unset()* sind auch implementiert, werfen aber eine
*BadMethodCallException* da Änderungen auf RootDSE Nodes nicht erlaubt sind. Weiters implementiert die Klasse
*ArrayAccess* für Array-Artigen Zugriff und wirft eine *BadMethodCallException* aus den bekannten Gründen.

.. _zend.ldap.api.reference.zend-ldap-node-schema.table:

.. table:: Zend\Ldap_Node\Schema API

   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Methode                                                              |Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                 |
   +=====================================================================+=============================================================================================================================================================================================================================================================================================================================================================================================================+
   |Zend\Ldap\Dn getDn()                                                 |Holt den DN des aktuellen Nodes als Zend\Ldap\Dn.                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string getDnString(string $caseFold)                                 |Holt den DN des aktuellen Nodes als String.                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getDnArray(string $caseFold)                                   |Holt den DN des aktuellen Nodes als Array.                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string getRdnString(string $caseFold)                                |Holt den RDN des aktuellen Nodes als String.                                                                                                                                                                                                                                                                                                                                                                 |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getRdnArray(string $caseFold)                                  |Holt den RDN des aktuellen Nodes als Array.                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getObjectClass()                                               |Gibt die objectClass des aktuellen Nodes zurück.                                                                                                                                                                                                                                                                                                                                                             |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string toString()                                                    |Gibt den DN des aktuellen Nodes zurück - verweist auf Zend\Ldap\Dn::getDnString().                                                                                                                                                                                                                                                                                                                           |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string \__toString()                                                 |Castet auf eine String Darstellung - leitet auf Zend\Ldap\Dn::toString() weiter.                                                                                                                                                                                                                                                                                                                             |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array toArray(boolean $includeSystemAttributes)                      |Gibt eine Array Darstellung des aktuellen Nodes zurück. Wenn $includeSystemAttributesFALSE ist (Standardmäßig ist es TRUE) werden die System spezifischen Attribute vom Array entfernt. Anders als Zend\Ldap_Node\Schema::getAttributes() enthält das resultierende Array den DN mit dem Schlüssel 'dn'.                                                                                                     |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string toJson(boolean $includeSystemAttributes)                      |Gibt eine JSON Darstellung des aktuellen Nodes zurück indem Zend\Ldap_Node\Schema::toArray() verwendet wird.                                                                                                                                                                                                                                                                                                 |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getData(boolean $includeSystemAttributes)                      |Gibt die Attribute des Nodes zurück. Das Array enthält alle Attribute in Ihrem internen Format (keine Konvertierung).                                                                                                                                                                                                                                                                                        |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |boolean existsAttribute(string $name, boolean $emptyExists)          |Prüft ob ein angegebenes Attribut existiert. Wenn $emptyExistsFALSE ist werden leere Attribute (welche nur array() enthalten) als nicht existierend betrachtet und geben FALSE zurück. Wenn $emptyExistsTRUE ist werden leere Attribute als existent betrachtet und geben TRUE zurück. In diesem Fall gibt die Methode nur dann FALSE zurück wenn der Name des Attributs in der Sammlung der Schlüssel fehlt.|
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |boolean attributeHasValue(string $name, mixed|array $value)          |Prüft ob angegebene Werte im Attribut existieren. Die Methode gibt nur dann FALSE zurück wenn alle Werte in $value auch im Attribut enthalten sind. Der Vergleich wird strikt durchgeführt (er respektiert den Datentyp).                                                                                                                                                                                    |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |integer count()                                                      |Gibt die Anzahl der Attribute im Node zurück. Implementiert Countable.                                                                                                                                                                                                                                                                                                                                       |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |mixed getAttribute(string $name, integer|null $index)                |Holt ein LDAP Attribut. Datenkonvertierung wird angewendet indem Zend\Ldap\Attribute::getAttribute() verwendet wird.                                                                                                                                                                                                                                                                                         |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getAttributes(boolean $includeSystemAttributes)                |Holt alle Attribute des Nodes. Wenn $includeSystemAttributesFALSE ist (der Standardwert ist TRUE) werden systemspezifische Attribute vom Array entfernt.                                                                                                                                                                                                                                                     |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array|integer getDateTimeAttribute(string $name, integer|null $index)|Holt ein LDAP date/time Attribut. Datenkonvertierung wird angewendet indem Zend\Ldap\Attribute::getDateTimeAttribute() verwendet wird.                                                                                                                                                                                                                                                                       |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Zend\Ldap_Node\Schema reload(Zend_Ldap $ldap)                        |Lädt die Attribute des aktuellen Nodes neu vom angegebenen LDAP Server.                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Zend\Ldap_Node\Schema create(Zend_Ldap $ldap)                        |Factory Methode um den Schema Node zu erstellen.                                                                                                                                                                                                                                                                                                                                                             |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getAttributeTypes()                                            |Holt den Typ des Attributs als Array von .                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getObjectClasses()                                             |Holt das Klassenobjekt als Array von Zend\Ldap\Node\Schema\ObjectClass\Interface.                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-schema.attributetype-interface.table:

.. table:: Zend\Ldap\Node\Schema\AttributeType\Interface API

   +------------------------+---------------------------------------------------+
   |Methode                 |Beschreibung                                       |
   +========================+===================================================+
   |string getName()        |Holt den Namen des Attributs.                      |
   +------------------------+---------------------------------------------------+
   |string getOid()         |Holt die OID des Attributs.                        |
   +------------------------+---------------------------------------------------+
   |string getSyntax()      |Holt die Syntax des Attributs.                     |
   +------------------------+---------------------------------------------------+
   |int|null getMaxLength() |Holt die maximale Länge des Attributs.             |
   +------------------------+---------------------------------------------------+
   |boolean isSingleValued()|Gibt zurück ob das Attribut ein einzelner Wert ist.|
   +------------------------+---------------------------------------------------+
   |string getDescription() |holt die Beschreibung des Attributs                |
   +------------------------+---------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-schema.objectclass-interface.table:

.. table:: Zend\Ldap\Node\Schema\ObjectClass\Interface API

   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Methode                 |Beschreibung                                                                                                                                                                                                                                                                                                                                                                        |
   +========================+====================================================================================================================================================================================================================================================================================================================================================================================+
   |string getName()        |Gibt den Namen von objectClass zurück.                                                                                                                                                                                                                                                                                                                                              |
   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string getOid()         |Gibt das OID von objectClass zurück.                                                                                                                                                                                                                                                                                                                                                |
   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getMustContain()  |Gibt die Attribute zurück welche diese objectClass enthalten muß.                                                                                                                                                                                                                                                                                                                   |
   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getMayContain()   |Gibt die Attribute zurück welche diese objectClass enthalten kann.                                                                                                                                                                                                                                                                                                                  |
   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |string getDescription() |Gibt die Beschreibung des Attributs zurück                                                                                                                                                                                                                                                                                                                                          |
   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |integer getType()       |Gibt den Typ von objectClass zurück. Diese Methode gibt einen der folgenden Werte zurück: Zend\Ldap_Node\Schema::OBJECTCLASS_TYPE_UNKNOWNfür unbekannte KlassentypenZend\Ldap_Node\Schema::OBJECTCLASS_TYPE_STRUCTURALfür strukturelle KlassenZend\Ldap_Node\Schema::OBJECTCLASS_TYPE_ABSTRACTfür abstrakte KlassenZend\Ldap_Node\Schema::OBJECTCLASS_TYPE_AUXILIARYfür Hilfsklassen|
   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |array getParentClasses()|Gibt die elterliche objectClass dieser Klasse zurück. Diese enthalten strukturelle, abstrakte und Hilfsklassen.                                                                                                                                                                                                                                                                     |
   +------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Klassen welche Attributtypen repräsentieren und auch Objektklassen erweitern *Zend\Ldap\Node\Schema\Item* welche
einige Kernmethoden bietet um auf eigene Attribute im darunterliegenden *LDAP* Node zugreifen zu können.
*Zend\Ldap\Node\Schema\Item* enthält die magischen Methoden *__get()* und *__isset()* um auf die Attribute mit
Ihrem Namen zugreifen zu können. Weiters implementiert die Klasse *ArrayAccess* für einen Array-artigen Zugriff
auf die Attribute. *offsetSet()* und *offsetUnset()* werfen eine *BadMethodCallException* da Änderungen in Schema
Informations Nodes nicht erlaubt sind.

.. _zend.ldap.api.reference.zend-ldap-node-schema.schema-item.table:

.. table:: Zend\Ldap\Node\Schema\Item API

   +---------------+--------------------------------------------------------------------------------------------------+
   |Methode        |Beschreibung                                                                                      |
   +===============+==================================================================================================+
   |array getData()|Holt die darunterliegenden Daten vom Schema Informations Node.                                    |
   +---------------+--------------------------------------------------------------------------------------------------+
   |integer count()|Gibt die Anzahl der Attribute für diesen Schema Informations Node zurück. Implementiert Countable.|
   +---------------+--------------------------------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-schema.openldap:

OpenLDAP
--------

Zusätzlich können die üblichen Methoden von oben auf Instanzen von *Zend\Ldap\Node\Schema\OpenLDAP* angewendet
werden.

.. _zend.ldap.api.reference.zend-ldap-node-schema.openldap.table:

.. table:: Zend\Ldap\Node\Schema\OpenLDAP API

   +--------------------------+-----------------------------------+
   |Methode                   |Beschreibung                       |
   +==========================+===================================+
   |array getLdapSyntaxes()   |Holt die LDAP Syntaxe.             |
   +--------------------------+-----------------------------------+
   |array getMatchingRules()  |Holt die passenden Regeln.         |
   +--------------------------+-----------------------------------+
   |array getMatchingRuleUse()|Holt die verwendete passende Regel.|
   +--------------------------+-----------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-schema.openldap.attributetype-interface.table:

.. table:: Zend\Ldap\Node\Schema\AttributeType\OpenLDAP API

   +-------------------------------------------------------------+-------------------------------------------------------------------------+
   |Methode                                                      |Beschreibung                                                             |
   +=============================================================+=========================================================================+
   |Zend\Ldap\Node\Schema\AttributeType\OpenLdap|null getParent()|Gibt den Type des Elternattributs vom geerbten Baum wenn einer existiert.|
   +-------------------------------------------------------------+-------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-schema.openldap.objectclass-interface.table:

.. table:: Zend\Ldap\Node\Schema\ObjectClass\OpenLDAP API

   +------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |Methode           |Beschreibung                                                                                                                                                            |
   +==================+========================================================================================================================================================================+
   |array getParents()|Gibt die elterlichen Objektklassen im vererbten Baum zurück wenn einer existiert. Das zurückgegebene Array ist ein Array von Zend\Ldap\Node\Schema\ObjectClass\OpenLdap.|
   +------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-schema.activedirectory:

ActiveDirectory
---------------

.. note::

   **Browsen im Schema von ActiveDirectory Servern**

   Durch eine Einschränkung in Microsoft ActiveDirectory Servern betreffend der Anzahl an einträgen die bei
   generellen Such Routinen zurückgegeben werden, und wegen der Struktur des ActiveDirectory Schema Repositories,
   ist das Schema Browsen aktuell **nicht** für Microsoft ActiveDirectory Server vorhanden.

*Zend\Ldap\Node\Schema\ActiveDirectory* bietet keine zusätzlichen Methoden an.

.. _zend.ldap.api.reference.zend-ldap-node-schema.activedirectory.attributetype-interface.table:

.. table:: Zend\Ldap\Node\Schema\AttributeType\ActiveDirectory API

   +------------------------------------------------------------------------------------------+
   |Zend\Ldap\Node\Schema\AttributeType\ActiveDirectory bietet keine zusätzlichen Methoden an.|
   +------------------------------------------------------------------------------------------+

.. _zend.ldap.api.reference.zend-ldap-node-schema.activedirectory.objectclass-interface.table:

.. table:: Zend\Ldap\Node\Schema\ObjectClass\ActiveDirectory API

   +----------------------------------------------------------------------------------------+
   |Zend\Ldap\Node\Schema\ObjectClass\ActiveDirectory bietet keine zusätzlichen Methoden an.|
   +----------------------------------------------------------------------------------------+


