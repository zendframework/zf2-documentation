.. _zend.ldap.api:

API概要
=====

.. _zend.ldap.api.configuration:

設定／オプション
--------

``Zend_Ldap``\ コンポーネント用のオプション配列は、 コンストラクタあるいは
``setOptions()``\ メソッドで指定できます。 下記のオプションが利用できます:

.. _zend.ldap.api.configuration.table:

.. table:: Zend_Ldapオプション

   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |名前                    |説明                                                                                                                                                                                                                                                                                               |
   +======================+=================================================================================================================================================================================================================================================================================================+
   |host                  |LDAPサーバのデフォルトのホスト名。 connect()で指定しなかった場合に使用します (bind()の際にユーザ名を正規化するときにも使用します)。                                                                                                                                                                                                                    |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |port                  |LDAPサーバのデフォルトのポート。 connect()で指定しなかった場合に使用します。                                                                                                                                                                                                                                                    |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |useStartTls           |LDAPクライアント側に TLS(別名SSLv2) での暗号化トランスポートを要求するか否か。 実運用環境では TRUE を指定することを強く推奨します。 これにより、パスワードが平文で送られてしまうことを防ぎます。 デフォルト値は FALSE です。 というのも、この機能を使用するにはサーバ側に別途、 証明書のインストールが必要となることが多いからです。 useSslオプションと useStartTlsオプションは共存できません。 useStartTlsオプションのほうが useSslより推奨されていますが、 中にはこの新しい仕組みをサポートしていないサーバもあります。|
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |useSsl                |LDAPクライアント側に SSLでの暗号化トランスポートを要求するか否か。 useSslオプションと useStartTls オプションは共存できません。                                                                                                                                                                                                                    |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |username              |デフォルトの認証ユーザ名。 サーバによっては、DN 形式を要求するものもあります。 DN にバインドすることをLDAPサーバーが要求するならば、 これは DN 形式で与えられなければなりません。 そして、バインディングは単純なユーザー名で可能でなければなりません                                                                                                                                                              |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |password              |デフォルトの認証パスワード (上のユーザ名との組み合わせでのみ使用します)。                                                                                                                                                                                                                                                           |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |bindRequiresDn        |TRUE を指定すると、ユーザ名が DN 形式でない場合に Zend_Ldap をバインド時に使用してアカウントの DN を取得します。 デフォルト値は FALSE です。                                                                                                                                                                                                           |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |baseDn                |(アカウントなどの) 検索に使用するデフォルトのベース DN。 このオプションは、アカウントに関する大半の操作で必須となります。 そのアカウントが存在する DN を指す必要があります。                                                                                                                                                                                                     |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |accountCanonicalForm  |アカウント名の正規化方式を表す整数値。 以下のアカウント名の正規化 節を参照ください。                                                                                                                                                                                                                                                      |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |accountDomainName     |対象となるLDAPサーバの FQDN ドメイン (例 example.com)。                                                                                                                                                                                                                                                         |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |accountDomainNameShort|対象となるLDAPサーバの '短い' ドメイン。 これは、Windows ネットワークの NetBIOS ドメイン名として用いられますが、 AD 以外のサーバで用いられることもあります。                                                                                                                                                                                                    |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |accountFilterFormat   |アカウントを検索する際に使用するLDAP検索フィルタ。 この文字列は sprintf() 形式のものとなり、ユーザ名を表す '%s' をひとつ含む必要があります。デフォルト値は '(&(objectClass=user)(sAMAccountName=%s))' です。 ただし、bindRequiresDn が TRUE の場合のデフォルト値は '(&(objectClass=posixAccount)(uid=%s))' となります。独自のスキーマを使用している場合は、 それにあわせてこのオプションを変更しなければなりません。                      |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |allowEmptyPassword    |LDAPサーバによっては、 匿名バインドの際のパスワードに空文字を設定できるものもあります。 この挙動は、ほとんどの場合において好ましくないものです。 そのため、空のパスワードは明示的に無効にしています。 この値をTRUEにすると、 バインド時に空文字列のパスワードを使用できるようになります。                                                                                                                                              |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |optReferrals          |TRUEに設定すると、 参照先を追跡するようLDAPクライアントに指示します。 デフォルト値はFALSEです。                                                                                                                                                                                                                                          |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |tryUsernameSplit      |FALSEにセットすると、 バインディング手続きの間、与えられたユーザー名において ユーザー名をドメインから切り離すために、 最初の@または\\文字で分割してはいけないことを示します。 これにより、一部のドメーン情報を継承しない （例えばバインディングのための電子メール・アドレスを使用する）、 @または\\を含むユーザー名を ユーザーが利用できるようになります。 デフォルト値はTRUEです。                                                                                            |
   +----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _zend.ldap.api.reference:

APIリファレンス
---------

.. note::

   **斜体**\ のメソッド名は static メソッドです。

.. include:: zend.ldap.api.ldap.rst
.. include:: zend.ldap.api.ldap.attribute.rst
.. include:: zend.ldap.api.ldap.dn.rst
.. include:: zend.ldap.api.ldap.filter.rst
.. include:: zend.ldap.api.ldap.node.rst
.. include:: zend.ldap.api.ldap.node.root-dse.rst
.. include:: zend.ldap.api.ldap.node.schema.rst
.. include:: zend.ldap.api.ldap.ldif.encoder.rst

