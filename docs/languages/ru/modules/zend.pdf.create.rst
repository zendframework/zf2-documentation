.. _zend.pdf.create:

Создание и загрузка документов PDF
==================================

Класс *Zend_Pdf* представляет документ PDF и обеспечивает
функциональность для работы на уровне документа.

Для того, чтобы создать новый документ, нужно создать новый
объект *Zend_Pdf*.

Класс *Zend_Pdf* также предоставляет два статических метода для
загрузки существующих документов PDF. Это методы *Zend_Pdf::load()* и
*Zend_Pdf::parse()*. Оба метода возвращают объект *Zend_Pdf* в качестве
результата или генерируют исключение в случае ошибки.

.. rubric:: Создание нового или загрузка существующего документа PDF

.. code-block:: php
   :linenos:

   <?php
   ...
   // Создание нового документа PDF
   $pdf1 = new Zend_Pdf();

   // Загрузка документа PDF из файла
   $pdf2 = Zend_Pdf::load($fileName);

   // Загрузка документа PDF из строки
   $pdf3 = Zend_Pdf::parse($pdfString);
   ...
   ?>
Формат файла PDF поддерживает постепенное обновление
документа. Таким образом, каждый раз, когда документ
обновляется, создается новая версия документа.

Версия может быть указана в качестве второго параметра для
методов *Zend_Pdf::load()* и *Zend_Pdf::parse()* или получается методом
*Zend_Pdf::rollback()*. [#]_ call.

.. rubric:: Извлечение определенной версии документа PDF

.. code-block:: php
   :linenos:

   <?php
   ...
   // Загрузка предыдущей версии документа PDF
   $pdf1 = Zend_Pdf::load($fileName, 1);

   // Загрузка предыдущей версии документа PDF
   $pdf2 = Zend_Pdf::parse($pdfString, 1);

   // Загрузка первой версии документа
   $pdf3 = Zend_Pdf::load($fileName);
   $revisions = $pdf3->revisions();
   $pdf3->rollback($revisions - 1);
   ...
   ?>


.. [#] Метод *Zend_Pdf::rollback()* должен вызываться до того, как будут
       производиться любые изменения[накладываемые на документ].